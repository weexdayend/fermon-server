generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model fact_report_f5 {
  id               String    @id(map: "fact_report_f5_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime? @db.Timestamp(6)
  kode_provinsi    String?
  nama_provinsi    String?
  kode_kab_kota    String?
  nama_kab_kota    String?
  kode_distributor String?
  nama_distributor String?
  kode_produk      String?
  nama_produk      String?
  bulan            BigInt?
  tahun            BigInt?
  besaran          Float?
  total            Float?
  keterangan       String?
  status_processed String?
  processed_at     DateTime? @db.Timestamp(6)

  @@unique([id])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model fact_report_f6 {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime? @db.Timestamp(6)
  kode_provinsi    String?
  nama_provinsi    String?
  kode_kab_kota    String?
  nama_kab_kota    String?
  kode_distributor String?
  nama_distributor String?
  kode_pengecer    String?
  nama_pengecer    String?
  kode_produk      String?
  nama_produk      String?
  bulan            BigInt?
  tahun            BigInt?
  besaran          Float?
  total            Float?
  keterangan       String?
  kode_kecamatan   String?
  nama_kecamatan   String?
  status_processed String?
  processed_at     DateTime? @db.Timestamp(6)

  @@unique([id])
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mapping_profile {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at     DateTime  @db.Timestamp(6)
  updated_at     DateTime? @db.Timestamp(6)
  deleted_at     DateTime? @db.Timestamp(6)
  id_provinsi    String?   @unique
  id_kabupaten   String?   @unique
  id_kecamatan   String?   @unique
  id_gudang      String?   @unique
  id_distributor String?   @unique
  id_kios        String?   @unique
  status         Boolean?
  kategori       String?

  Provinsi  fact_wilayah? @relation("MapProvinsi", fields: [id_provinsi], references: [kode], onDelete: NoAction, onUpdate: NoAction)
  Kotakab   fact_wilayah? @relation("MapKabupaten", fields: [id_kabupaten], references: [kode], onDelete: NoAction, onUpdate: NoAction)
  Kecamatan fact_wilayah? @relation("MapKecamatan", fields: [id_kecamatan], references: [kode], onDelete: NoAction, onUpdate: NoAction)

  Gudang      fact_profile? @relation("MapGudang", fields: [id_gudang], references: [kode], onDelete: NoAction, onUpdate: NoAction)
  Distributor fact_profile? @relation("MapDistributor", fields: [id_distributor], references: [kode], onDelete: NoAction, onUpdate: NoAction)
  Kios        fact_profile? @relation("MapKios", fields: [id_kios], references: [kode], onDelete: NoAction, onUpdate: NoAction)

  @@index([id_provinsi, id_kabupaten, id_kecamatan, id_gudang, id_distributor, id_kios])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model mart_accumulation_products_f5_distributor {
  id               String    @id(map: "mart_accumulation_products_f5_distributor_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime? @db.Timestamp(6)
  kode_distributor String?
  nama_distributor String?
  kode_produk      String?
  nama_produk      String?
  bulan            BigInt?
  tahun            BigInt?
  besaran          Float?
  total            Float?
  keterangan       String?

  @@unique([id])
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mart_accumulation_products_f6_kios {
  id            String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at    DateTime @db.Timestamp(6)
  kode_pengecer String?
  kode_produk   String?
  nama_produk   String?
  bulan         BigInt?
  tahun         BigInt?
  besaran       Float?
  total         Float?
  keterangan    String?

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model datawarehouse_f5 {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime? @db.Timestamp(6)
  kode_produsen    String?
  nama_produsen    String?
  no_f5            String?
  kode_distributor String?
  nama_distributor String?
  kode_provinsi    String?
  nama_provinsi    String?
  kode_kab_kota    String?
  nama_kab_kota    String?
  bulan            BigInt?
  tahun            BigInt?
  status           String?   @map("_status")
  kode_produk      String?
  nama_produk      String?
  stok_awal        Float?
  penebusan        Float?
  penyaluran       Float?
  stok_akhir       Float?
  keterangan       String?
  status_processed String?
  processed_at     DateTime? @db.Timestamp(6)

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model datawarehouse_f6 {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime? @db.Timestamp(6)
  kode_produsen    String?
  nama_produsen    String?
  no_f6            String?
  kode_distributor String?
  nama_distributor String?
  kode_provinsi    String?
  nama_provinsi    String?
  kode_kab_kota    String?
  nama_kab_kota    String?
  kode_kecamatan   String?
  nama_kecamatan   String?
  bulan            BigInt?
  tahun            BigInt?
  kode_pengecer    String?
  nama_pengecer    String?
  kode_produk      String?
  nama_produk      String?
  stok_awal        Float?
  penebusan        Float?
  penyaluran       Float?
  stok_akhir       Float?
  status           String?
  keterangan       String?
  status_processed String?
  processed_at     DateTime? @db.Timestamp(6)

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model fact_profile {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at DateTime? @db.Timestamp(6)
  updated_at DateTime? @db.Timestamp(6)
  deleted_at DateTime? @db.Timestamp(6)
  kategori   String?
  kode       String?
  nama       String?
  alamat     String?
  status     Boolean?
  id_mapping String?
  long       String?
  lat        String?

  Gudang      mapping_profile[] @relation("MapGudang")
  Distributor mapping_profile[] @relation("MapDistributor")
  Kios        mapping_profile[] @relation("MapKios")

  @@unique([kode])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model fact_wilayah {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at DateTime? @db.Timestamp(6)
  updated_at DateTime? @db.Timestamp(6)
  deleted_at DateTime? @db.Timestamp(6)
  kode       String?
  nama       String?
  long       String?
  lat        String?
  status     Boolean?
  kategori   String?

  Provinsi  mapping_profile? @relation("MapProvinsi")
  Kotakab   mapping_profile? @relation("MapKabupaten")
  Kecamatan mapping_profile? @relation("MapKecamatan")

  @@unique([kode])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mapping_petugas {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at     DateTime? @db.Timestamp(6)
  updated_at     DateTime? @db.Timestamp(6)
  deleted_at     DateTime? @db.Timestamp(6)
  id_petugas     String?
  id_provinsi    String?
  id_kabupaten   String?
  id_kecamatan   String?
  id_gudang      String?
  id_distributor String?
  id_kios        String?
  kategori       String?
  status_mapping Boolean?

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mart_accumulation_products_f5_wilayah {
  id            String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at    DateTime @db.Timestamp(6)
  kode_provinsi String?
  kode_kab_kota String?
  kode_produk   String?
  nama_produk   String?
  bulan         BigInt?
  tahun         BigInt?
  besaran       Float?
  total         Float?
  keterangan    String?

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model mart_accumulation_products_f6_wilayah {
  id             String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at     DateTime @db.Timestamp(6)
  kode_provinsi  String?
  kode_kab_kota  String?
  kode_kecamatan String?
  kode_produk    String?
  nama_produk    String?
  bulan          BigInt?
  tahun          BigInt?
  besaran        Float?
  total          Float?
  keterangan     String?

  @@unique([id])
}

model tbl_alokasi_petugas {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at  DateTime? @db.Date
  updated_at  DateTime? @db.Date
  deleted_at  DateTime? @db.Date
  kodealokasi String?
  idpetugas   String?   @db.Uuid
  idgudang    String?   @db.Uuid
  kodegudang  String?
  iddist      String?   @db.Uuid
  kodedist    String?
  idkios      String?   @db.Uuid
  kodekios    String?
  userid      String    @db.Uuid

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tbl_alokasi_pupuk {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at DateTime? @db.Timestamp(6)
  updated_at DateTime? @db.Timestamp(6)
  deleted_at DateTime? @db.Timestamp(6)
  tahun      BigInt?
  bulan      BigInt?
  nominal    Decimal?  @db.Decimal
  kode       String?

  @@unique([id])
}

model tbl_distributor {
  id               String     @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime
  updated_at       DateTime?
  deleted_at       DateTime?
  kode_distributor BigInt?
  nama_distributor String?
  longitude        String?
  latitude         String?
  kodeprov         String?
  provinsi         String?
  kodekab          String?
  kabupaten        String?
  kodekec          String?
  kecamatan        String?
  idgudang         String?    @db.Uuid
  userid           String?    @db.Uuid
  tbl_kios         tbl_kios[]

  @@unique([id])
}

model tbl_gudang {
  id           String         @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at   DateTime
  updated_at   DateTime?
  deleted_at   DateTime?
  kodegudang   String?
  gudang       String?
  longitude    String?
  latitude     String?
  kodeprov     String?
  provinsi     String?
  kodekab      String?
  kabupaten    String?
  kodekec      String?
  kecamatan    String?
  userid       String         @db.Uuid
  tbl_produsen tbl_produsen[]

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tbl_harga_pupuk {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at   DateTime? @db.Timestamp(6)
  updated_at   DateTime? @db.Timestamp(6)
  deleted_at   DateTime? @db.Timestamp(6)
  id_provinsi  String?
  id_kabupaten String?
  tahun        BigInt?
  bulan        BigInt?
  hargapukuk   Decimal?  @db.Decimal

  @@unique([id])
}

model tbl_kios {
  id               String           @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at       DateTime
  updated_at       DateTime?
  deleted_at       DateTime?
  kode_kios        String?
  nama_kios        String?
  longitude        String?
  latitude         String?
  kodeprov         String?
  provinsi         String?
  kodekab          String?
  kabupaten        String?
  kodekec          String?
  kecamatan        String?
  id_distributor   String?          @db.Uuid
  kode_distributor String?
  userid           String?          @db.Uuid
  tbl_distributor  tbl_distributor? @relation(fields: [id_distributor], references: [id])

  @@unique([id])
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model tbl_petugas {
  id             String    @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at     DateTime? @db.Timestamp(6)
  updated_at     DateTime? @db.Timestamp(6)
  deleted_at     DateTime? @db.Timestamp(6)
  kode_petugas   String?
  nama_petugas   String?
  contact        String?
  contact_wa     String?
  jabatan        String?
  status_petugas Boolean?

  @@unique([id])
  @@index([id, kode_petugas, contact, contact_wa], map: "petugas_id_idx")
}

model tbl_produsen {
  id            String      @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at    DateTime
  updated_at    DateTime?
  deleted_at    DateTime?
  kode_produsen String?
  nama_produsen String?
  idgudang      String?     @db.Uuid
  userid        String?     @db.Uuid
  tbl_gudang    tbl_gudang? @relation(fields: [idgudang], references: [id])
  tbl_user      tbl_user?   @relation(fields: [userid], references: [id])

  @@index([id])
}

model tbl_user {
  id           String         @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at   DateTime
  updated_at   DateTime?
  deleted_at   DateTime?
  email        String?
  hashed       String?
  image        String?
  role         String?
  name         String?        @db.VarChar
  status_user  Boolean?
  tbl_produsen tbl_produsen[]

  @@unique([id])
}
